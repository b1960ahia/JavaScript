<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sorteador de Jogos de Loteria</title>
  <link rel="stylesheet" href="style.css">
  
</head>
<body>
  <h1>Sorteador de Jogos de Loteria</h1>

  <div class="form-group">
    <label>Quantos jogos:</label>
    <input type="number" id="quant" value="5">
  </div>

  <div class="form-group">
    <label>Quantos números por jogo:</label>
    <input type="number" id="qtdNumeros" value="6">
  </div>

  <div class="form-group">
    <label>Intervalo:</label>
    <input type="number" id="inicio" value="1"> até
    <input type="number" id="fim" value="60">
  </div>

  <div class="form-group">
    <label>Números a excluir (sep. vírgula):</label><br>
    <input type="text" id="excluir" placeholder="Ex: 2,5,8">
  </div>

  <div class="form-group">
    <label>Números fixos em todos os jogos (sep. vírgula):</label><br>
    <input type="text" id="fixos" placeholder="Ex: 10,20">
  </div>

  <button onclick="sortear()">Sortear Jogos</button>
  <button onclick="copiar()">Copiar Jogos</button>

  <div class="resultado" id="resultado"></div>

  <script>
    let ultimosJogos = [];

    function sortear() {
      const quant = parseInt(document.getElementById('quant').value);
      const qtdNumeros = parseInt(document.getElementById('qtdNumeros').value);
      const inicio = parseInt(document.getElementById('inicio').value);
      const fim = parseInt(document.getElementById('fim').value);

      const excluir = document.getElementById('excluir').value
        .split(',')
        .map(n => parseInt(n.trim()))
        .filter(n => !isNaN(n));

      const fixos = document.getElementById('fixos').value
        .split(',')
        .map(n => parseInt(n.trim()))
        .filter(n => !isNaN(n));

      // lista de números disponíveis
      let disponiveis = [];
      for (let n = inicio; n <= fim; n++) {
        if (!excluir.includes(n) && !fixos.includes(n)) {
          disponiveis.push(n);
        }
      }

      const resultadoDiv = document.getElementById('resultado');
      resultadoDiv.innerHTML = '';
      ultimosJogos = [];

      if (disponiveis.length + fixos.length < qtdNumeros) {
        resultadoDiv.innerHTML = '<p style="color:red;">⚠️ Não há números suficientes disponíveis para sortear!</p>';
        return;
      }

      for (let j = 0; j < quant; j++) {
        const faltam = qtdNumeros - fixos.length;
        if (faltam < 0) {
          resultadoDiv.innerHTML = '<p style="color:red;">⚠️ Quantidade de números fixos maior que o tamanho do jogo!</p>';
          return;
        }

        // copia lista disponiveis para não alterar original
        let disp = [...disponiveis];
        let sorteados = [];

        // sorteia faltam números sem repetir
        for (let i = 0; i < faltam; i++) {
          const idx = Math.floor(Math.random() * disp.length);
          sorteados.push(disp[idx]);
          disp.splice(idx, 1);
        }

        const jogo = [...fixos, ...sorteados].sort((a, b) => a - b);
        ultimosJogos.push(jogo);

        // monta HTML do jogo com cores diferentes
        let numerosHtml = jogo.map(n => {
          if (fixos.includes(n)) {
            return `<span class="numero numero-fixo">${n}</span>`;
          } else {
            return `<span class="numero numero-sorteado">${n}</span>`;
          }
        }).join('');
        resultadoDiv.innerHTML += `<div class="jogo"><strong>Jogo ${j + 1}:</strong> ${numerosHtml}</div>`;
      }
    }

    function copiar() {
      if (ultimosJogos.length === 0) {
        alert('Nenhum jogo para copiar. Sorteie primeiro.');
        return;
      }
      let texto = '';
      ultimosJogos.forEach((jogo, i) => {
        texto += `Jogo ${i + 1}: ${jogo.join(', ')}\n`;
      });
      navigator.clipboard.writeText(texto).then(() => {
        alert('Jogos copiados para a área de transferência!');
      });
    }
  </script>
</body>
</html>
